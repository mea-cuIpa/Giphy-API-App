(this.webpackJsonpgiphy=this.webpackJsonpgiphy||[]).push([[0],{79:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(13),c=a.n(s),i=a(36),o=a(19),u=a.n(o),l=a(35),h=a(21),d=a(22),f=a(28),j=a(27),m=a(83),p=(a(56),a(46)),g=a.n(p).a.create({baseURL:"https://api.giphy.com/v1/",params:{api_key:"OcLKJ3izPTySFP1XJtcVnlOu33dVGPJ7"}}),b=a(50),O=a(84),v=a(6),x=function(e){var t=e.gif,a=t.id,r=t.images.fixed_height.url,s=Object(n.useState)(!1),c=Object(b.a)(s,2),i=c[0],o=c[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{onClick:function(){return o(!0)},children:Object(v.jsx)("img",{className:"gif-container__img",alt:a,src:r})}),Object(v.jsx)(O.a,{show:i,onHide:function(){return o(!1)},children:Object(v.jsx)(O.a.Header,{closeButton:!0,children:Object(v.jsx)("img",{className:"modal-header__image",alt:a,src:r})})})]})},S=function(e){return e.gifs.map((function(e){return Object(v.jsx)("div",{className:"gif-container__content",children:Object(v.jsx)(x,{gif:e,className:"gif-container__img"})},e.id)}))},y=a(85),w=a(82),_=a(86),N=a.p+"static/media/sprite.f271f6de.svg",k=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={value:"",error:""},e.handleSubmit=function(t){t.preventDefault();var a=e.state.value;a.match(/^[a-z0-9]+$/i)&&e.props.onSubmit(a)},e.handleChange=function(t){var a=e.state.error,n=t.target.value;n&&(a=n.match(/^[a-z0-9]+$/i)?"":"Only alphanumeric characters allowed."),e.setState({value:n,error:a})},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state,t=e.error,a=e.value;return Object(v.jsxs)("div",{className:"w-75",children:[Object(v.jsxs)(y.a,{onSubmit:this.handleSubmit,className:"d-flex w-100 my-3",children:[Object(v.jsx)(y.a.Control,{className:"rounded-0 header__input",placeholder:"Search for a gifs...",type:"text",value:a,onChange:this.handleChange,noValidate:!0}),Object(v.jsx)(w.a,{variant:"dark",className:"rounded-0",type:"submit",children:Object(v.jsx)("svg",{className:"header__icon",children:Object(v.jsx)("use",{xlinkHref:"".concat(N,"#icon-magnifying-glass")})})})]}),t&&Object(v.jsx)(_.a,{variant:"danger",className:"h5",children:t})]})}}]),a}(r.a.Component),q=a(49),C=(a(79),function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={gifs:[],limit:20,offset:0,search:""},e.onSearchSubmit=function(){var t=Object(l.a)(u.a.mark((function t(a){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.get("/gifs/search",{params:{q:a,limit:20,offset:0}}).catch((function(e){e.response?console.error("Server responded with status ".concat(e.response.status)):e.request?console.error("Can't get response ".concat(e.request)):console.error("Something happened in setting up the request ".concat(e.message))}));case 2:n=t.sent,r=n.data.data,e.setState({gifs:r,search:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loadGifs=Object(l.a)(u.a.mark((function t(){var a,n,r,s,c,o,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({offset:e.state.offset+e.state.limit}),a=e.state,n=a.offset,r=a.limit,s=a.search,c=a.gifs,t.next=4,g.get("/gifs/search",{params:{q:s,limit:r,offset:n}}).catch((function(e){e.response?console.error("Server responded ".concat(e.response.data,", ").concat(e.response.headers," with status ").concat(e.response.status)):e.request?console.error("Can't get response ".concat(e.request)):console.error("Something happened in setting up the request ".concat(e.message))}));case 4:o=t.sent,l=o.data.data,e.setState({gifs:[].concat(Object(i.a)(c),Object(i.a)(l))});case 7:case"end":return t.stop()}}),t)}))),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.onSearchSubmit("nature")}},{key:"render",value:function(){var e=this.state.gifs;return Object(v.jsxs)(m.a,{className:"p-0",children:[Object(v.jsx)("header",{className:"bg-white d-flex justify-content-center align-items-center header",children:Object(v.jsx)(k,{onSubmit:this.onSearchSubmit})}),Object(v.jsx)("main",{className:"bg-light gif-container",children:Object(v.jsx)(q.a,{dataLength:e.length,next:this.loadGifs,hasMore:!0,children:Object(v.jsx)(S,{gifs:e})})})]})}}]),a}(r.a.Component));c.a.render(Object(v.jsx)(C,{}),document.querySelector("#root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.c6c8a64f.chunk.js.map